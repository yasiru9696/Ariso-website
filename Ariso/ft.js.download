!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";var t=[],o=[];!function(e,r){if(e&&"undefined"!=typeof document){var i,a=!0===r.prepend?"prepend":"append",n=!0===r.singleTag,s="string"==typeof r.container?document.querySelector(r.container):document.getElementsByTagName("head")[0];if(n){var f=t.indexOf(s);-1===f&&(f=t.push(s)-1,o[f]={}),i=o[f]&&o[f][a]?o[f][a]:o[f][a]=m()}else i=m();65279===e.charCodeAt(0)&&(e=e.substring(1)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(document.createTextNode(e))}function m(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),r.attributes)for(var o=Object.keys(r.attributes),e=0;e<o.length;e++)t.setAttribute(o[e],r.attributes[o[e]]);var i="prepend"===a?"afterbegin":"beforeend";return s.insertAdjacentElement(i,t),t}}(":root{--formito-accent-color: #7854f7;--formito-modal-width: 480px;--formito-modal-height: 840px}.formito-app[data-button-shape='square'] .formito-fab,.formito-app[data-button-shape='square'] .formito-fab-close{border-radius:0}.formito-app[data-button-shape='round'] .formito-fab,.formito-app[data-button-shape='round'] .formito-fab-close{border-radius:8px}.formito-app[data-position='bottomLeft'] .formito-modal{left:0;right:auto;transform-origin:30px bottom}.formito-app[data-position='bottomLeft'] .formito-launcher{left:0;right:auto;align-items:flex-start}.formito-app[data-position='bottomLeft'] .formito-message{transform-origin:30px bottom}.formito-app[data-position='bottomLeft'] .formito-message::before,.formito-app[data-position='bottomLeft'] .formito-message::after{left:22px;right:auto}.formito-app[data-position='bottomLeft'] .formito-message span{left:0;right:auto}.formito-app[data-position='bottomLeft'] .formito-radial{transform-origin:left bottom;background:radial-gradient(at left bottom, rgba(29,39,54,0.08) 0%, rgba(29,39,54,0) 72%)}.formito-app.formito-trigger-click.open .formito-modal,.formito-app.formito-trigger-click.open .formito-modal-overlay{visibility:visible;opacity:1}.formito-app.formito-trigger-fab.open .formito-modal{opacity:1;visibility:visible;transform:scale(1, 1)}.formito-modal{all:initial;position:fixed;overflow:hidden;height:calc(100vh - 120px);max-height:var(--formito-modal-height, 840px);width:calc(100vw - 40px);max-width:var(--formito-modal-width, 480px);background:white;border-radius:8px;box-shadow:0px 3px 30px rgba(0,0,0,0.12);transition:0.4s cubic-bezier(0.04, 0.27, 0.26, 1.05);transition-property:opacity, transform;z-index:1200}.formito-modal iframe{background:#f2f3f5}.formito-trigger-fab .formito-modal{bottom:80px;right:0;margin:20px;transform:scale(0, 0) translateY(50px);transform-origin:calc(100% - 30px) bottom;opacity:0}.formito-trigger-click .formito-modal{visibility:hidden;opacity:0;top:50%;left:50%;height:calc(100vh - 40px);transform:translate(-50%, -50%)}.formito-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;pointer-events:auto;background-color:rgba(0,0,0,0.35);backdrop-filter:blur(2px);z-index:1110;transition:0.3s ease-out;visibility:hidden;opacity:0}.formito-launcher{position:fixed;right:0;bottom:0;display:flex;flex-direction:column-reverse;align-items:flex-end;pointer-events:none}.formito-radial{position:absolute;width:500px;height:500px;bottom:0px;pointer-events:none;background:radial-gradient(at right bottom, rgba(29,39,54,0.08) 0%, rgba(29,39,54,0) 72%);transition:0.3s ease-out;transform:scale(0, 0);opacity:0;transform-origin:bottom right}.formito-app.open .formito-radial{opacity:1;transform:scale(1, 1)}.formito-fab{all:initial;position:relative;z-index:10000;outline:none;border:none;margin:20px;width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:none;background:var(--formito-accent-color, \"#7854f7\") url(\"https://s.formito.com/img/icon-fab/3.png\") no-repeat center center;box-shadow:rgba(0,0,0,0.06) 0px 1px 6px 0px,rgba(0,0,0,0.16) 0px 2px 32px 0px;background-size:cover;overflow:hidden;opacity:0;transform:scale(0, 0);transition:all 0.3s ease-out}.formito-fab .formito-fab-close{display:flex;align-items:center;justify-content:center;position:absolute;top:0;left:0;right:0;bottom:0;border-radius:50%;background-color:var(--formito-accent-color, \"#7854f7\");transform:scale(0, 0);transition:all 0.3s ease-out;font-size:32px;color:#fff}.formito-launcher.reveal .formito-fab{opacity:1;transform:scale(1, 1)}.formito-fab:hover{transform:scale(1.06, 1.06) !important}.formito-fab:focus{outline:none}.formito-app.open .formito-fab-close{transform:scale(1, 1)}.formito-message{font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\";margin:20px;margin-bottom:0;padding:16px;max-width:280px;background:#fff;border-radius:8px;box-shadow:0 0 25px 0 rgba(0,0,64,0.1);line-height:1.5;border:1px solid #f2f3f4;cursor:pointer;pointer-events:auto;opacity:0;transform:scale(0, 0) translateY(20px);transform-origin:calc(100% - 30px) bottom;transition:0.3s ease-out 1s}.formito-message::before{position:absolute;bottom:-10px;right:22px;content:'';width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:10px solid #f2f3f4}.formito-message::after{position:absolute;bottom:-9px;right:24px;content:'';width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:9px solid #fff}.formito-message span{position:absolute;top:-28px;right:0;font-weight:300;display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:10rem;background-color:rgba(0,0,0,0.25);opacity:0;text-decoration:none;cursor:pointer;user-select:none;transition:0.3s ease-out}.formito-message span:hover{background-color:rgba(0,0,0,0.5)}.formito-message span::before{content:'\\00d7';margin-top:-6px;font-size:22px;color:rgba(255,255,255,0.9)}.formito-message span::after{content:'';position:absolute;bottom:-10px;display:block;width:100%;height:40px;z-index:-1}.formito-message h5{font-family:Roboto, 'Open Sans', Arial, sans-serif;font-size:15px;margin:0;font-weight:600;color:#464646;letter-spacing:0;line-height:1.5}.formito-message p{margin:0;font-size:15px;color:#646464}.formito-message h5+p{margin-top:8px}.formito-app.open .formito-message{opacity:0;visibility:hidden;transform:scale(0, 0);transition:0.3s ease-out}.formito-launcher.reveal .formito-message{opacity:1;transform:scale(1, 1) translateY(0)}.formito-message:hover span{top:-38px;opacity:1}\n",{});const e={trigger:"click",color:"",position:"bottomRight",device:"all",width:"",height:"",padding:"",scroll:50,delay:3,buttonIcon:"",buttonShape:"circle",messageTitle:"",messageText:""},r=t=>{const o=i(t);return`https://x.formito.com/app/${t.formitoId}?${o}`},i=t=>{let o={};return Object.entries(t).map(([t,e])=>{t.startsWith("values.")&&(o[t]=e)}),Object.keys(o).length<1?"":new URLSearchParams(o).toString()},a=(t,o)=>{o.color&&t.style.setProperty("--formito-accent-color",o.color),o.width&&t.style.setProperty("--formito-popup-width",o.width+"px"),o.height&&t.style.setProperty("--formito-popup-height",o.height+"px")},n=({settings:t})=>{let o="";return function(t){let o=JSON.parse(localStorage.getItem("formito_closed_messages"))||{};return!o[t]||o[t]+1209600<Date.now()}(t.formitoId)&&(t.messageTitle||t.messageText)&&(o=`<div class="formito-message"><span></span><h5>${t.messageTitle}</h5><p>${t.messageText}</p></div>`),`\n<div class="formito-modal">\n  <iframe src="about:blank" frameborder="0" height="100%" width="100%"></iframe>\n</div>\n<div class="formito-launcher">\n  <button class="formito-fab"><span class="formito-fab-close"><svg width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>\n</svg></span></button>\n  ${o}\n  <div class="formito-radial"></div>\n</div>\n`},s=t=>{t.forEach(t=>{const o={...e,...t.dataset,trigger:"fab"};t.className="formito-app formito-trigger-"+o.trigger,a(t,o),t.innerHTML=n({settings:o});const i=t.querySelector(".formito-fab"),s=t.querySelector(".formito-message"),f=t.querySelector(".formito-launcher"),m=()=>{const e=t.querySelector("iframe");"about:blank"===e.src&&(e.src=r(o)),t.classList.toggle("open")};if(o.buttonIcon&&i.style.setProperty("background-image",`url(${o.buttonIcon})`),s){s.querySelector("span").addEventListener("click",t=>{t.stopPropagation(),s.remove(),function(t){let o=JSON.parse(localStorage.getItem("formito_closed_messages"))||{};o[t]=Date.now(),localStorage.setItem("formito_closed_messages",JSON.stringify(o))}(o.formitoId)}),s.addEventListener("click",m)}setTimeout(()=>{f.classList.add("reveal")},1e3),i.addEventListener("click",m)})};const f=t=>{document.querySelector("#formito-app-"+t.formitoId)||document.body.insertAdjacentHTML("beforeend",(({settings:t})=>`\n<div id="formito-app-${t.formitoId}" class="formito-app formito-trigger-${t.trigger}">\n  <div class="formito-modal">\n    <iframe src="about:blank" frameborder="0" height="100%" width="100%"></iframe>\n  </div>\n  <div class="formito-modal-overlay"></div>\n</div>\n`)({settings:t}));const o=document.querySelector("#formito-app-"+t.formitoId);a(o,t);const e=o.querySelector("iframe"),i=o.querySelector(".formito-modal-overlay");"about:blank"===e.src&&(e.src=r(t)),o.classList.toggle("open"),i.addEventListener("click",t=>{o.classList.remove("open")})};const m=()=>{!function(){const t=document.querySelectorAll('[data-formito-id][data-trigger="fab"]:not(.formito-app)');s(t),new MutationObserver(()=>{const t=document.querySelectorAll('[data-formito-id][data-trigger="fab"]:not(.formito-app)');s(t)}).observe(document.body,{attributes:!1,childList:!0,subtree:!0})}(),document.addEventListener("click",t=>{if(t.target.closest('[href^="#formito-"]')){const o=t.target.closest('[href^="#formito-"]');t.preventDefault();const r=o.getAttribute("href");let i="",a={};if(r.indexOf("?")>0){i=r.substring(9,r.indexOf("?"));const t=new URLSearchParams(r.substring(r.indexOf("?")));for(const[o,e]of t)a[o]=e}else i=r.substring(9);const n={...e,...a,...o.dataset,formitoId:i,trigger:"click",position:"center"};f(n)}else if(t.target.closest('[data-formito-id][data-trigger="click"]')){const o=t.target.closest('[data-formito-id][data-trigger="click"]');t.preventDefault();const r={...e,...o.dataset,trigger:"click",position:"center"};f(r)}})};window.formito_loaded||(window.formito_loaded=!0,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",m):m())}));
